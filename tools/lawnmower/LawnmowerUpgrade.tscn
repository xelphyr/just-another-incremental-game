[gd_scene load_steps=4 format=3 uid="uid://2ssxgm6aj5fj"]

[ext_resource type="Script" uid="uid://dmx3ad6hooc74" path="res://tool_upgrade_system.gd" id="1_0kemt"]
[ext_resource type="PackedScene" uid="uid://beq1ttb4x6oob" path="res://scenes/UpgradeNode.tscn" id="1_ombev"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_utfbk"]
bg_color = Color(0.147672, 0.147672, 0.147672, 1)
corner_radius_top_left = 20
corner_radius_top_right = 20
corner_radius_bottom_right = 20
corner_radius_bottom_left = 20

[node name="LawnmowerUpgrade" type="Control" node_paths=PackedStringArray("nodes")]
layout_mode = 3
anchor_right = 0.275
anchor_bottom = 1.0
offset_right = 0.19998169
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_0kemt")
nodes = [NodePath("UpgradeNode"), NodePath("UpgradeNode2"), NodePath("UpgradeNode3")]

[node name="bg" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1.00178, 1)
theme_override_styles/panel = SubResource("StyleBoxFlat_utfbk")

[node name="UpgradeNode" parent="." instance=ExtResource("1_ombev")]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 88.0
offset_top = 50.0
offset_right = -91.0
offset_bottom = -553.0
title = "Add a Lawnmower"
max_level = 3
base_cost = 10.0

[node name="UpgradeNode2" parent="." instance=ExtResource("1_ombev")]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 87.0
offset_top = 135.0
offset_right = -92.0
offset_bottom = -468.0
id = 1
title = "Make it faster"
base_cost = 100.0
reveal_when = {
0: 1
}
unlock_when = {
0: 2
}

[node name="UpgradeNode3" parent="." instance=ExtResource("1_ombev")]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 86.0
offset_top = 227.0
offset_right = -93.0
offset_bottom = -376.0
title = "Make it vroom"
base_cost = 20.0
reveal_when = {
1: 1
}
unlock_when = {
1: 2
}

[connection signal="on_purchase" from="UpgradeNode" to="." method="_recalculate_upgrade_tree"]
[connection signal="on_purchase" from="UpgradeNode2" to="." method="_recalculate_upgrade_tree"]
[connection signal="on_purchase" from="UpgradeNode3" to="." method="_recalculate_upgrade_tree"]
